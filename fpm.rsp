# CI configurations for fpm tests
## ubuntu
@ubuntu-latest_gfortran_debug
options test
options --compiler gfortran
options --profile debug
options --flag "-DFOR_DEBUG -Wno-maybe-uninitialized -ftree-parallelize-loops=8"

@ubuntu-latest_gfortran_release
options test
options --compiler gfortran
options --profile release
options --flag "-DFOR_DEBUG -ftree-parallelize-loops=8 -march=native"

@ubuntu-latest_ifx_debug
options test
options --compiler ifx
options --profile debug
options --flag "-DFOR_DEBUG -fopenmp-target-do-concurrent"

@ubuntu-latest_ifx_release
options test
options --compiler ifx
options --profile release
options --flag "-DFOR_DEBUG -fopenmp-target-do-concurrent"

@ubuntu-latest_nvfortran_debug
options test
options --compiler nvfortran
options --profile debug
options --flag "-DFOR_DEBUG -stdpar=multicore,gpu -Minfo=stdpar,accel"

@ubuntu-latest_nvfortran_release
options test
options --compiler nvfortran
options --profile release
options --flag "-DFOR_DEBUG -O3 -stdpar=multicore,gpu"

@ubuntu-latest_flang-new_debug
options test
options --compiler flang-new
options --profile debug
options --flag "-DFOR_DEBUG -cpp"

@ubuntu-latest_flang-new_release
options test
options --compiler flang-new
options --profile release
options --flag "-DFOR_DEBUG -cpp"

@ubuntu-latest_lfortran_debug
options test
options --compiler lfortran
options --profile debug
options --flag "-DFOR_DEBUG --cpp"

@ubuntu-latest_lfortran_release
options test
options --compiler lfortran
options --profile release
options --flag "-DFOR_DEBUG --cpp"


## macOS
@macos-latest_gfortran_debug
options test
options --compiler gfortran
options --profile debug
options --flag "-DFOR_DEBUG -Wno-maybe-uninitialized -ftree-parallelize-loops=8"

@macos-latest_gfortran_release
options test
options --compiler gfortran
options --profile release
options --flag "-DFOR_DEBUG -ftree-parallelize-loops=8 -march=native"

@macos-latest_lfortran_debug
options test
options --compiler lfortran
options --profile debug
options --flag "-DFOR_DEBUG --cpp"

@macos-latest_lfortran_release
options test
options --compiler lfortran
options --profile release
options --flag "-DFOR_DEBUG --cpp"


## windows
@windows-latest_gfortran_debug
options test
options --compiler gfortran
options --profile debug
options --flag "-DFOR_DEBUG -Wno-maybe-uninitialized -ftree-parallelize-loops=8"

@windows-latest_gfortran_release
options test
options --compiler gfortran
options --profile release
options --flag "-DFOR_DEBUG -ftree-parallelize-loops=8 -march=native"

@windows-latest_ifx_debug
options test
options --compiler ifx
options --profile debug
options --flag "-DFOR_DEBUG /Qopenmp-target-do-concurrent"

@windows-latest_ifx_release
options test
options --compiler ifx
options --profile release
options --flag "-DFOR_DEBUG /Qopenmp-target-do-concurrent"

@windows-latest_flang-new_debug
options test
options --compiler flang-new
options --flag "-DFOR_DEBUG -cpp"

@windows-latest_flang-new_release
options test
options --compiler flang-new
options --flag "-DFOR_DEBUG -cpp"

@windows-latest_lfortran_debug
options test
options --compiler lfortran
options --profile debug
options --flag "-DFOR_DEBUG --cpp"

@windows-latest_lfortran_release
options test
options --compiler lfortran
options --profile release
options --flag "-DFOR_DEBUG --cpp"